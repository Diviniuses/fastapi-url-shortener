## üöÄ FastAPI URL Shortener

–í—ã—Å–æ–∫–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å –¥–ª—è —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è —Å—Å—ã–ª–æ–∫ –Ω–∞ **Python 3.11 + FastAPI**.  
–ü—Ä–æ–µ–∫—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∏—Ä–æ–≤–∞–Ω (Docker + Docker Compose) –∏ –≥–æ—Ç–æ–≤ –∫ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—é –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—é.

---

## üõ† –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

- **–Ø–∑—ã–∫ / —Ñ—Ä–µ–π–º–≤–æ—Ä–∫**: Python 3.11, FastAPI  
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: PostgreSQL  
- **ORM**: SQLModel (SQLAlchemy + Pydantic)  
- **–ö—ç—à**: Redis (–∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –±—ã—Å—Ç—Ä—ã—Ö —Ä–µ–¥–∏—Ä–µ–∫—Ç–æ–≤)  
- **DevOps**: Docker, Docker Compose  
- **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: Pytest  

---

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ—Ä–æ—Ç–∫–∏—Ö —Å—Å—ã–ª–æ–∫** (—É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∫–æ–¥—ã –¥–ª–∏–Ω–æ–π 7 —Å–∏–º–≤–æ–ª–æ–≤).  
- **–ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–π —Ä–µ–¥–∏—Ä–µ–∫—Ç** —á–µ—Ä–µ–∑ Redis —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º–∏ –∑–∞–¥–µ—Ä–∂–∫–∞–º–∏.  
- **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤** –ø–æ –∫–∞–∂–¥–æ–π –∫–æ—Ä–æ—Ç–∫–æ–π —Å—Å—ã–ª–∫–µ.  
- **–ó–∞—â–∏—Ç–∞ –æ—Ç –∫–æ–ª–ª–∏–∑–∏–π**: –ø—Ä–æ–≤–µ—Ä–∫–∞ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏ –∫–æ–¥–∞ –≤ –ë–î.  
- **Docker‚Äëfirst**: –∑–∞–ø—É—Å–∫ –≤—Å–µ–≥–æ —Å—Ç–µ–∫–∞ –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π.  

---

## üöÄ –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

–¢—Ä–µ–±—É–µ—Ç—Å—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π **Docker** –∏ **Docker Compose**.

1. **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π**:

   ```bash
   git clone https://github.com/Diviniuses/fastapi-url-shortener.git
   cd fastapi-url-shortener
   ```

2. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã**:

   ```bash
   docker compose up -d --build
   ```

3. **–î–æ—Å—Ç—É–ø –∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é**:

   - API: `http://localhost:8000`  
   - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Swagger: `http://localhost:8000/docs`  

---

## üîó –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å –∫–æ—Ä–æ—Ç–∫—É—é —Å—Å—ã–ª–∫—É

1. **–°–æ–∑–¥–∞–π—Ç–µ –∫–æ—Ä–æ—Ç–∫—É—é —Å—Å—ã–ª–∫—É —á–µ—Ä–µ–∑ POST `/shorten`**.

   –í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ (PowerShell / bash):

   ```bash
   curl -X POST "http://localhost:8000/shorten" \
     -H "Content-Type: application/json" \
     -d '{"target_url": "https://www.google.com"}'
   ```

   –ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:

   ```json
   {
     "id": 1,
     "target_url": "https://www.google.com",
     "short_code": "Ar3txdV",
     "is_active": true,
     "clicks": 0
   }
   ```

   –í–∞–∂–Ω–æ–µ –ø–æ–ª–µ –∑–¥–µ—Å—å ‚Äî **`short_code`**.  
   –í —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ –∫–æ—Ä–æ—Ç–∫–∞—è —Å—Å—ã–ª–∫–∞ –±—É–¥–µ—Ç:

   ```text
   http://localhost:8000/Ar3txdV
   ```

   –¢–æ –∂–µ —Å–∞–º–æ–µ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å —á–µ—Ä–µ–∑ Swagger:

   - –æ—Ç–∫—Ä—ã—Ç—å `http://localhost:8000/docs`;
   - –Ω–∞–π—Ç–∏ `POST /shorten`;
   - –Ω–∞–∂–∞—Ç—å **Try it out**, –≤–≤–µ—Å—Ç–∏ `{ "target_url": "https://www.google.com" }` –∏ –Ω–∞–∂–∞—Ç—å **Execute**;
   - –≤–∑—è—Ç—å `short_code` –∏–∑ –æ—Ç–≤–µ—Ç–∞.

2. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ –∫–æ—Ä–æ—Ç–∫–æ–π —Å—Å—ã–ª–∫–µ**

   –í –±—Ä–∞—É–∑–µ—Ä–µ –ø—Ä–æ—Å—Ç–æ –æ—Ç–∫—Ä—ã—Ç—å:

   ```text
   http://localhost:8000/<short_code>
   ```

   –ù–∞–ø—Ä–∏–º–µ—Ä:

   ```text
   http://localhost:8000/Ar3txdV
   ```

   –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –±—É–¥–µ—Ç –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ –∏—Å—Ö–æ–¥–Ω—ã–π `target_url`, –∞ —Å—á—ë—Ç—á–∏–∫ –∫–ª–∏–∫–æ–≤ —É–≤–µ–ª–∏—á–∏—Ç—Å—è.

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ (—Å—á—ë—Ç—á–∏–∫ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤)

–î–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –∫–æ—Ä–æ—Ç–∫–æ–π —Å—Å—ã–ª–∫–µ –µ—Å—Ç—å —ç–Ω–¥–ø–æ–∏–Ω—Ç:

- **`GET /stats/{short_code}`**

–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:

```bash
curl http://localhost:8000/stats/Ar3txdV
```

–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:

```json
{
  "short_code": "Ar3txdV",
  "target_url": "https://www.google.com",
  "clicks": 5,
  "is_active": true
}
```

–ü–æ–ª–µ **`clicks`** ‚Äî —ç—Ç–æ –∏ –µ—Å—Ç—å **–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –ø–æ –∫–æ—Ä–æ—Ç–∫–æ–π —Å—Å—ã–ª–∫–µ**.

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü—Ä–∏ –∑–∞–ø—É—â–µ–Ω–Ω–æ–º —Å—Ç–µ–∫–µ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

docker compose exec app pytest
(–¢–µ—Å—Ç—ã –ø—Ä–æ–π–¥—É—Ç –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è).

